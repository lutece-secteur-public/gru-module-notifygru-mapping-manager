<#include "managemodulenotifygrumappingmanager_tabs.html" />

<#function getLabelFromPosition positionRefList code>
    <#list positionRefList as item>
        <#if item.code == code?string>
            <#return item.name>
        </#if>
    </#list>
    <#if code??>
        <#return code>
    <#else>
        <#return ''>
    </#if>
</#function>

<@row>
	<@columns>
		<@box>
			<@boxHeader title='#i18n{modulenotifygrumappingmanager.manage_notifygrumappingmanagers.pageTitle}'>
				<@tform type='inline' method='post' name='manage_notifygrumappingmanagers' action='jsp/admin/plugins/modulenotifygrumappingmanager/ManageNotifygruMappingManagers.jsp'>
					<@button type='submit' name='view_createNotifygruMappingManager' buttonIcon='plus-square' title='#i18n{modulenotifygrumappingmanager.manage_notifygrumappingmanagers.buttonAdd}' size='sm' />
				</@tform>
			</@boxHeader>
			<@boxBody>    
				<@messages infos=infos />
				<@table>
					<@tr>
						<@th>#i18n{modulenotifygrumappingmanager.manage_notifygrumappingmanagers.columnBeanKey}</@th>
						<@th>#i18n{modulenotifygrumappingmanager.manage_notifygrumappingmanagers.columnDemandeType}</@th>
						<@th>#i18n{modulenotifygrumappingmanager.manage_notifygrumappingmanagers.columnConnectionId}</@th>
						<@th>#i18n{modulenotifygrumappingmanager.manage_notifygrumappingmanagers.columnCustomerId}</@th>
						<@th>#i18n{modulenotifygrumappingmanager.manage_notifygrumappingmanagers.columnMobilePhoneNumber}</@th>
						<@th>#i18n{modulenotifygrumappingmanager.manage_notifygrumappingmanagers.columnFixedPhoneNumber}</@th>
						<@th>#i18n{modulenotifygrumappingmanager.manage_notifygrumappingmanagers.columnEmail}</@th>
						<@th>#i18n{modulenotifygrumappingmanager.manage_notifygrumappingmanagers.columnDemandReference}</@th>
						<@th>#i18n{portal.util.labelActions}</@th>
					</@tr>
					<@tableHeadBodySeparator />
					<#list notifygrumappingmanager_list as notifygrumappingmanager >
						<#assign listPosition = mapPositionLabel[notifygrumappingmanager.beanKey]>
						<@tr>
							<@td>${list_provider[notifygrumappingmanager.beanKey]!beanKey!}</@td>
							<@td>${notifygrumappingmanager.demandeTypeId!}</@td>
							<@td>${getLabelFromPosition(listPosition,notifygrumappingmanager.connectionId)!}</@td>
							<@td>${getLabelFromPosition(listPosition,notifygrumappingmanager.customerId)!}</@td>
							<@td>${getLabelFromPosition(listPosition,notifygrumappingmanager.mobilePhoneNumber)!}</@td>
							<@td>${getLabelFromPosition(listPosition,notifygrumappingmanager.fixedPhoneNumber)!}</@td>
							<@td>${getLabelFromPosition(listPosition,notifygrumappingmanager.email)!}</@td>
							<@td>${getLabelFromPosition(listPosition,notifygrumappingmanager.demandReference)!}</@td>
							<@td>
								<@aButton href='jsp/admin/plugins/modulenotifygrumappingmanager/ManageNotifygruMappingManagers.jsp?view=modifyNotifygruMappingManager&id=${notifygrumappingmanager.id}' title='#i18n{portal.util.labelModify}' hideTitle=['all'] buttonIcon='edit' size='sm' />
								<@aButton href='jsp/admin/plugins/modulenotifygrumappingmanager/ManageNotifygruMappingManagers.jsp?action=confirmRemoveNotifygruMappingManager&id=${notifygrumappingmanager.id}' title='#i18n{portal.util.labelDelete}' hideTitle=['all'] buttonIcon='trash' color='danger' size='sm' />
							</@td>
						</@tr>
					</#list>
				</@table>
				<@paginationAdmin paginator=paginator combo=1 />
			</@boxBody>
		</@box>
	</@columns>
</@row>
