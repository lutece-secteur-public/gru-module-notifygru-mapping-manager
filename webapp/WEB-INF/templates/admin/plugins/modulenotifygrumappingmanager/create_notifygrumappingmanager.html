<#include "managemodulenotifygrumappingmanager_tabs.html" />
<@tabs tab="notifygrumappingmanager" />

<@rowBoxHeader i18nTitleKey="modulenotifygrumappingmanager.create_notifygrumappingmanager.pageTitle">
    <form class="form-horizontal" method="post" name="create_notifygrumappingmanager" action="jsp/admin/plugins/modulenotifygrumappingmanager/ManageNotifygruMappingManagers.jsp">
        <@messages errors=errors />
        <input type="hidden" id="id" name="id"/>
    
    


<@fieldInputWrapper i18nLabelKey="modulenotifygrumappingmanager.create_notifygrumappingmanager.labelBeanKey" 
                        i18nHelpBlockKey="modulenotifygrumappingmanager.create_notifygrumappingmanager.labelBeanKey.help"
                        inputName="beankey"   mandatory=true   value="0"  cssClass='form-control'>
                        
<@comboSiteWithParams name="beankey"   default_value="1"   additionalParameters='id="beankey" onChange="loadForm()"  '  items=list_provider    />
</@fieldInputWrapper>
          
          
          
<@fieldInputWrapper i18nLabelKey="modulenotifygrumappingmanager.create_notifygrumappingmanager.labelMobilePhoneNumber" 
                        i18nHelpBlockKey ="modulenotifygrumappingmanager.create_notifygrumappingmanager.labelMobilePhoneNumber.help"
                        inputName="mobilephonenumber"   mandatory=true   value="0"  cssClass='form-control'>
                        
<@comboSiteWithParams name="mobilephonenumber"   default_value="1"   additionalParameters='id="mobilephonenumber"'  items=list_position    />
</@fieldInputWrapper>

    
       
                 
<@fieldInputWrapper i18nLabelKey="modulenotifygrumappingmanager.create_notifygrumappingmanager.labelFixedPhoneNumber" 
                        i18nHelpBlockKey ="modulenotifygrumappingmanager.create_notifygrumappingmanager.labelFixedPhoneNumber.help"
                        inputName="fixedphonenumber"   mandatory=true   value="0"  cssClass='form-control'>
                        
<@comboSiteWithParams name="fixedphonenumber"   default_value="1"   additionalParameters='id="fixedphonenumber"  '  items=list_position    />
</@fieldInputWrapper>

       
    
                        
<@fieldInputWrapper i18nLabelKey="modulenotifygrumappingmanager.create_notifygrumappingmanager.labelEmail" 
                        i18nHelpBlockKey ="modulenotifygrumappingmanager.create_notifygrumappingmanager.labelEmail.help"
                        inputName="email"   mandatory=true   value="0"  cssClass='form-control'>
                        
<@comboSiteWithParams name="email"   default_value="1"   additionalParameters='id="email"'  items=list_position    />
</@fieldInputWrapper>
  
        
        
   
      
      
      
        <@actionButtons button1Name="action_createNotifygruMappingManager" button2Name="view_manageNotifygruMappingManagers"/>
    </form>
</@rowBoxHeader>


<script type="text/javascript">





window.onload =  loadForm();
	
	
	function loadForm()
{

	var strkey = $('#beankey').val()
	
//console.log("${BASE_URL}")

    $.ajax({
          type: 'POST',
          url: '${BASE_URL}rest/modulenotifygrumappingmanager/notifygrumappingmanager',
          headers: {              
              'Content-Type':'application/json'
          },
          dataType: 'json',
          data: {"${AJAX_KEY}": strkey},
          timeout: 20000,
          success: function (data) {


    var form = (data.form!==undefined) ? data.form:{};
    var formValue = (data.formValue!==undefined) ? data.formValue:{};
    
  var OptionForm="";
    $.each(form,function(position,title){
    	
    	OptionForm+="<option value="+position+"> "+title+" </option>";
    });

    
    $("#mobilephonenumber").html(OptionForm);
    $("#fixedphonenumber").html(OptionForm);
    $("#email").html(OptionForm);
    
   $.each(formValue,function(title,position){
    	
    	$("#"+title).val(position);
    });
    
          },
          error: function (request) {

    
console.log("errror du webservidse")
          }





      });  
	


}


	
	
</script>
